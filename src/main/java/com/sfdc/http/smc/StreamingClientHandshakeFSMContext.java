/*
 * ex: set ro:
 * DO NOT EDIT.
 * generated by smc (http://smc.sourceforge.net/)
 * from file : StreamingClientHandshakeFSM.sm
 */


//
// Author: Prashant Srinivasan
//


package com.sfdc.http.smc;

import com.ning.http.client.Cookie;
import com.ning.http.client.Response;

import java.io.PrintStream;
import java.util.List;
import java.util.concurrent.Future;

public class StreamingClientHandshakeFSMContext
        extends statemap.FSMContext {
//---------------------------------------------------------------
// Member methods.
//

    public StreamingClientHandshakeFSMContext(StreamingClient owner) {
        super(FSM.Initial);

        _owner = owner;
    }

    public StreamingClientHandshakeFSMContext(StreamingClient owner, StreamingClientState initState) {
        super(initState);

        _owner = owner;
    }

    public synchronized void enterStartState() {
        getState().Entry(this);
        return;
    }

    public synchronized void on500Error(Response response) {
        _transition = "on500Error";
        getState().on500Error(this, response);
        _transition = "";
        return;
    }

    public synchronized void onConnectComplete() {
        _transition = "onConnectComplete";
        getState().onConnectComplete(this);
        _transition = "";
        return;
    }

    public synchronized void onFinishedScenario() {
        _transition = "onFinishedScenario";
        getState().onFinishedScenario(this);
        _transition = "";
        return;
    }

    public synchronized void onHandshakeComplete(List<Cookie> cookies, String clientId) {
        _transition = "onHandshakeComplete";
        getState().onHandshakeComplete(this, cookies, clientId);
        _transition = "";
        return;
    }

    public synchronized void onInvalidAuthCredentials(Response response) {
        _transition = "onInvalidAuthCredentials";
        getState().onInvalidAuthCredentials(this, response);
        _transition = "";
        return;
    }

    public synchronized void onOtherHttpErrorCode(Response response) {
        _transition = "onOtherHttpErrorCode";
        getState().onOtherHttpErrorCode(this, response);
        _transition = "";
        return;
    }

    public synchronized void onReconnectRequest() {
        _transition = "onReconnectRequest";
        getState().onReconnectRequest(this);
        _transition = "";
        return;
    }

    public synchronized void onStartingConnect(Future<Response> future) {
        _transition = "onStartingConnect";
        getState().onStartingConnect(this, future);
        _transition = "";
        return;
    }

    public synchronized void onStartingHandshake(Future<Response> future) {
        _transition = "onStartingHandshake";
        getState().onStartingHandshake(this, future);
        _transition = "";
        return;
    }

    public synchronized void onStartingSubscribe(Future<Response> future) {
        _transition = "onStartingSubscribe";
        getState().onStartingSubscribe(this, future);
        _transition = "";
        return;
    }

    public synchronized void onSubscribeComplete() {
        _transition = "onSubscribeComplete";
        getState().onSubscribeComplete(this);
        _transition = "";
        return;
    }

    public synchronized void onUnknownClientId(Response response) {
        _transition = "onUnknownClientId";
        getState().onUnknownClientId(this, response);
        _transition = "";
        return;
    }

    public StreamingClientState getState()
            throws statemap.StateUndefinedException {
        if (_state == null) {
            throw (
                    new statemap.StateUndefinedException());
        }

        return ((StreamingClientState) _state);
    }

    protected StreamingClient getOwner() {
        return (_owner);
    }

    public void setOwner(StreamingClient owner) {
        if (owner == null) {
            throw (
                    new NullPointerException(
                            "null owner"));
        } else {
            _owner = owner;
        }

        return;
    }

//---------------------------------------------------------------
// Member data.
//

    transient private StreamingClient _owner;

    public static abstract class StreamingClientState
            extends statemap.State {
        //-----------------------------------------------------------
        // Member methods.
        //

        protected StreamingClientState(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
        }

        protected void Exit(StreamingClientHandshakeFSMContext context) {
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            Default(context);
        }

        protected void onConnectComplete(StreamingClientHandshakeFSMContext context) {
            Default(context);
        }

        protected void onFinishedScenario(StreamingClientHandshakeFSMContext context) {
            Default(context);
        }

        protected void onHandshakeComplete(StreamingClientHandshakeFSMContext context, List<Cookie> cookies, String clientId) {
            Default(context);
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            Default(context);
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            Default(context);
        }

        protected void onReconnectRequest(StreamingClientHandshakeFSMContext context) {
            Default(context);
        }

        protected void onStartingConnect(StreamingClientHandshakeFSMContext context, Future<Response> future) {
            Default(context);
        }

        protected void onStartingHandshake(StreamingClientHandshakeFSMContext context, Future<Response> future) {
            Default(context);
        }

        protected void onStartingSubscribe(StreamingClientHandshakeFSMContext context, Future<Response> future) {
            Default(context);
        }

        protected void onSubscribeComplete(StreamingClientHandshakeFSMContext context) {
            Default(context);
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            Default(context);
        }

        protected void Default(StreamingClientHandshakeFSMContext context) {
            if (context.getDebugFlag() == true) {
                PrintStream str =
                        context.getDebugStream();

                str.println(
                        "TRANSITION   : Default");
            }

            throw (
                    new statemap.TransitionUndefinedException(
                            "State: " +
                                    context.getState().getName() +
                                    ", Transition: " +
                                    context.getTransition()));
        }

        //-----------------------------------------------------------
        // Member data.
        //
    }

    /* package */ static abstract class FSM {
        //-----------------------------------------------------------
        // Member methods.
        //

        //-----------------------------------------------------------
        // Member data.
        //

        //-------------------------------------------------------
        // Constants.
        //
        public static final FSM_Initial Initial =
                new FSM_Initial("FSM.Initial", 0);
        public static final FSM_Handshaking Handshaking =
                new FSM_Handshaking("FSM.Handshaking", 1);
        public static final FSM_Handshaken Handshaken =
                new FSM_Handshaken("FSM.Handshaken", 2);
        public static final FSM_Subscribing Subscribing =
                new FSM_Subscribing("FSM.Subscribing", 3);
        public static final FSM_Subscribed Subscribed =
                new FSM_Subscribed("FSM.Subscribed", 4);
        public static final FSM_Connected Connected =
                new FSM_Connected("FSM.Connected", 5);
        public static final FSM_Disconnected Disconnected =
                new FSM_Disconnected("FSM.Disconnected", 6);
        public static final FSM_Reconnecting Reconnecting =
                new FSM_Reconnecting("FSM.Reconnecting", 7);
        public static final FSM_Done Done =
                new FSM_Done("FSM.Done", 8);
        public static final FSM_ClientAborted ClientAborted =
                new FSM_ClientAborted("FSM.ClientAborted", 9);
        private static final FSM_Default Default =
                new FSM_Default("FSM.Default", -1);

    }

    protected static class FSM_Default
            extends StreamingClientState {
        //-----------------------------------------------------------
        // Member methods.
        //

        protected FSM_Default(String name, int id) {
            super(name, id);
        }
        //-----------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Initial
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Initial(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
            StreamingClient ctxt = context.getOwner();

            ctxt.startHandshake();
            return;
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Initial");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Initial.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Initial.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Initial.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Initial.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Initial");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Initial.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Initial.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Initial.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Initial.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Initial");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Initial.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Initial.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Initial.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Initial.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onStartingHandshake(StreamingClientHandshakeFSMContext context, Future<Response> future) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Initial");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Initial.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Initial.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Initial.onStartingHandshake(Future<Response> future)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Initial.onStartingHandshake(Future<Response> future)");
            }

            context.setState(FSM.Handshaking);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Handshaking.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Handshaking.Entry(context)");
            }
            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Initial");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Initial.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Initial.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Initial.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Initial.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Handshaking
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Handshaking(String name, int id) {
            super(name, id);
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaking");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaking.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaking.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaking.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaking.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onHandshakeComplete(StreamingClientHandshakeFSMContext context, List<Cookie> cookies, String clientId) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaking");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaking.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaking.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaking.onHandshakeComplete(List<Cookie> cookies, String clientId)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Handshaking.onHandshakeComplete(List<Cookie> cookies, String clientId)");
            }

            context.setState(FSM.Handshaken);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Handshaken.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Handshaken.Entry(context)");
            }
            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaking");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaking.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaking.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaking.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaking.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaking");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaking.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaking.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaking.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaking.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaking");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaking.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaking.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaking.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaking.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Handshaken
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Handshaken(String name, int id) {
            super(name, id);
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaken");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaken.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaken.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaken.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaken.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaken");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaken.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaken.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaken.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaken.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaken");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaken.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaken.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaken.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaken.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onStartingSubscribe(StreamingClientHandshakeFSMContext context, Future<Response> future) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaken");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaken.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaken.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaken.onStartingSubscribe(Future<Response> future)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Handshaken.onStartingSubscribe(Future<Response> future)");
            }

            context.setState(FSM.Subscribing);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Subscribing.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Subscribing.Entry(context)");
            }
            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Handshaken");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Handshaken.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Handshaken.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Handshaken.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Handshaken.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Subscribing
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Subscribing(String name, int id) {
            super(name, id);
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribing");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribing.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribing.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribing.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribing.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribing");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribing.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribing.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribing.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribing.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribing");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribing.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribing.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribing.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribing.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onSubscribeComplete(StreamingClientHandshakeFSMContext context) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribing");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribing.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribing.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribing.onSubscribeComplete()");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Subscribing.onSubscribeComplete()");
            }

            context.setState(FSM.Subscribed);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Subscribed.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Subscribed.Entry(context)");
            }
            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribing");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribing.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribing.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribing.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribing.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Subscribed
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Subscribed(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
            StreamingClient ctxt = context.getOwner();

            ctxt.startConnect();
            return;
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribed");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribed.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribed.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribed.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribed.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribed");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribed.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribed.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribed.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribed.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribed");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribed.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribed.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribed.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribed.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onStartingConnect(StreamingClientHandshakeFSMContext context, Future<Response> future) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribed");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribed.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribed.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribed.onStartingConnect(Future<Response> future)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Subscribed.onStartingConnect(Future<Response> future)");
            }

            context.setState(FSM.Connected);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Connected.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Connected.Entry(context)");
            }
            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Subscribed");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Subscribed.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Subscribed.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Subscribed.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Subscribed.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Connected
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Connected(String name, int id) {
            super(name, id);
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Connected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Connected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Connected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Connected.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Connected.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onConnectComplete(StreamingClientHandshakeFSMContext context) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Connected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Connected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Connected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Connected.onConnectComplete()");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Connected.onConnectComplete()");
            }

            context.setState(FSM.Disconnected);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Disconnected.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Disconnected.Entry(context)");
            }
            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Connected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Connected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Connected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Connected.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Connected.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Connected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Connected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Connected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Connected.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Connected.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Connected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Connected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Connected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Connected.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Connected.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Disconnected
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Disconnected(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
            StreamingClient ctxt = context.getOwner();

            ctxt.shouldWeReconnect();
            return;
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Disconnected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Disconnected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Disconnected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Disconnected.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Disconnected.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onFinishedScenario(StreamingClientHandshakeFSMContext context) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Disconnected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Disconnected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Disconnected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Disconnected.onFinishedScenario()");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Disconnected.onFinishedScenario()");
            }

            context.setState(FSM.Done);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Done.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Done.Entry(context)");
            }
            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Disconnected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Disconnected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Disconnected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Disconnected.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Disconnected.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Disconnected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Disconnected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Disconnected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Disconnected.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Disconnected.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onReconnectRequest(StreamingClientHandshakeFSMContext context) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Disconnected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Disconnected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Disconnected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Disconnected.onReconnectRequest()");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Disconnected.onReconnectRequest()");
            }

            context.setState(FSM.Reconnecting);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Reconnecting.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Reconnecting.Entry(context)");
            }
            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Disconnected");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Disconnected.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Disconnected.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Disconnected.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Disconnected.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Reconnecting
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Reconnecting(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
            StreamingClient ctxt = context.getOwner();

            ctxt.startConnect();
            return;
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Reconnecting");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Reconnecting.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Reconnecting.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Reconnecting.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Reconnecting.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Reconnecting");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Reconnecting.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Reconnecting.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Reconnecting.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Reconnecting.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onOtherHttpErrorCode(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Reconnecting");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Reconnecting.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Reconnecting.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Reconnecting.onOtherHttpErrorCode(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToOtherHttpErrorCode(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Reconnecting.onOtherHttpErrorCode(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onStartingConnect(StreamingClientHandshakeFSMContext context, Future<Response> future) {

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Reconnecting");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Reconnecting.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Reconnecting.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Reconnecting.onStartingConnect(Future<Response> future)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("EXIT TRANSITION : FSM.Reconnecting.onStartingConnect(Future<Response> future)");
            }

            context.setState(FSM.Connected);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE ENTRY    : FSM.Connected.Entry(context)");
            }

            (context.getState()).Entry(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER ENTRY     : FSM.Connected.Entry(context)");
            }
            return;
        }

        protected void onUnknownClientId(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.Reconnecting");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.Reconnecting.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.Reconnecting.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.Reconnecting.onUnknownClientId(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToUnknownClientId(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.Reconnecting.onUnknownClientId(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_Done
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_Done(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
            StreamingClient ctxt = context.getOwner();

            ctxt.clientDone();
            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }

    private static final class FSM_ClientAborted
            extends FSM_Default {
        //-------------------------------------------------------
        // Member methods.
        //

        private FSM_ClientAborted(String name, int id) {
            super(name, id);
        }

        protected void Entry(StreamingClientHandshakeFSMContext context) {
            StreamingClient ctxt = context.getOwner();

            ctxt.clientAborted();
            return;
        }

        protected void on500Error(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.ClientAborted");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.ClientAborted.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.ClientAborted.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.ClientAborted.on500Error(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueTo500(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.ClientAborted.on500Error(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        protected void onInvalidAuthCredentials(StreamingClientHandshakeFSMContext context, Response response) {
            StreamingClient ctxt = context.getOwner();

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("LEAVING STATE   : FSM.ClientAborted");
            }
            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("BEFORE EXIT     : FSM.ClientAborted.Exit(context)");
            }

            (context.getState()).Exit(context);

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("AFTER EXIT      : FSM.ClientAborted.Exit(context)");
            }

            if (context.getDebugFlag() == true) {
                PrintStream str = context.getDebugStream();

                str.println("ENTER TRANSITION: FSM.ClientAborted.onInvalidAuthCredentials(Response response)");
            }

            context.clearState();
            try {
                ctxt.abortClientDueToBadCredentials(response);
            } finally {
                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("EXIT TRANSITION : FSM.ClientAborted.onInvalidAuthCredentials(Response response)");
                }

                context.setState(FSM.ClientAborted);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("BEFORE ENTRY    : FSM.ClientAborted.Entry(context)");
                }

                (context.getState()).Entry(context);

                if (context.getDebugFlag() == true) {
                    PrintStream str = context.getDebugStream();

                    str.println("AFTER ENTRY     : FSM.ClientAborted.Entry(context)");
                }
            }

            return;
        }

        //-------------------------------------------------------
        // Member data.
        //
    }
}

/*
 * Local variables:
 *  buffer-read-only: t
 * End:
 */
